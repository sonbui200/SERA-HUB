local http = request or http_request or (syn and syn.request) or (fluxus and fluxus.request) or (krnl and krnl.request)

if not http then
    game.Players.LocalPlayer:Kick("go to discord https://discord.gg/a8xFCRAUWV to get help")
    return
end

local key_url = "https://raw.githubusercontent.com/khangcrack/khangbells/refs/heads/main/niggakhang"
local key_link = "https://discord.gg/a8xFCRAUWV" -- Discord link

local response = http({Url = key_url, Method = "GET"})

if not response or response.StatusCode ~= 200 then
    game.Players.LocalPlayer:Kick("Failed to fetch key from server")
    return
end

local serverKey = response.Body:gsub("%s+", "") -- Clean spaces and newlines

-- UI Setup
local ScreenGui = Instance.new("ScreenGui")
local Frame = Instance.new("Frame")
local Title = Instance.new("TextLabel")
local TextBox = Instance.new("TextBox")
local SubmitButton = Instance.new("TextButton")
local ErrorLabel = Instance.new("TextLabel")
local CopyButton = Instance.new("TextButton")
local NoteLabel = Instance.new("TextLabel")

ScreenGui.Parent = game.CoreGui

Frame.Size = UDim2.new(0, 300, 0, 210)
Frame.Position = UDim2.new(0.5, -150, 0.5, -105)
Frame.BackgroundColor3 = Color3.fromRGB(0, 0, 255) -- Blue background
Frame.Parent = ScreenGui

Title.Size = UDim2.new(1, 0, 0.15, 0)
Title.Position = UDim2.new(0, 0, 0, 0)
Title.BackgroundTransparency = 1
Title.Text = "sera hub | sonbui"
Title.TextSize = 20
Title.TextColor3 = Color3.fromRGB(255, 255, 255)
Title.Font = Enum.Font.SourceSansBold
Title.Parent = Frame

TextBox.Size = UDim2.new(0.8, 0, 0.15, 0)
TextBox.Position = UDim2.new(0.1, 0, 0.2, 0)
TextBox.PlaceholderText = "Enter Key"
TextBox.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
TextBox.TextColor3 = Color3.fromRGB(0, 0, 0) -- Black text
TextBox.Font = Enum.Font.SourceSans
TextBox.TextSize = 16
TextBox.Parent = Frame

SubmitButton.Size = UDim2.new(0.8, 0, 0.15, 0)
SubmitButton.Position = UDim2.new(0.1, 0, 0.4, 0)
SubmitButton.Text = "Submit"
SubmitButton.TextColor3 = Color3.fromRGB(255, 255, 255)
SubmitButton.BackgroundColor3 = Color3.fromRGB(50, 50, 50)
SubmitButton.Font = Enum.Font.SourceSansBold
SubmitButton.TextSize = 18
SubmitButton.Parent = Frame

CopyButton.Size = UDim2.new(0.8, 0, 0.15, 0)
CopyButton.Position = UDim2.new(0.1, 0, 0.6, 0)
CopyButton.Text = "Copy Key Link"
CopyButton.TextColor3 = Color3.fromRGB(0, 0, 0) -- Black text
CopyButton.BackgroundColor3 = Color3.fromRGB(200, 200, 200)
CopyButton.Font = Enum.Font.SourceSansBold
CopyButton.TextSize = 16
CopyButton.Parent = Frame

ErrorLabel.Size = UDim2.new(1, 0, 0.1, 0)
ErrorLabel.Position = UDim2.new(0, 0, 0.75, 0)
ErrorLabel.BackgroundTransparency = 1
ErrorLabel.Text = ""
ErrorLabel.TextSize = 16
ErrorLabel.TextColor3 = Color3.fromRGB(255, 0, 0) -- Default Red for Wrong Key
ErrorLabel.Font = Enum.Font.SourceSansBold
ErrorLabel.Parent = Frame

NoteLabel.Size = UDim2.new(1, 0, 0.1, 0)
NoteLabel.Position = UDim2.new(0, 0, 0.87, 0)
NoteLabel.BackgroundTransparency = 1
NoteLabel.Text = "Get your key from the Discord!"
NoteLabel.TextSize = 14
NoteLabel.TextColor3 = Color3.fromRGB(255, 255, 255)
NoteLabel.Font = Enum.Font.SourceSansItalic
NoteLabel.Parent = Frame

SubmitButton.MouseButton1Click:Connect(function()
    if TextBox.Text:gsub("%s+", "") == serverKey then
        ErrorLabel.Text = "Key Verified!"
        ErrorLabel.TextColor3 = Color3.fromRGB(0, 255, 0) -- Green for Correct Key
        wait(1)
        ScreenGui:Destroy()
        loadstring(game:HttpGet("https://pastefy.app/o4SV2jjx/raw"))() -- Run your script
    else
        ErrorLabel.Text = "Key is incorrect. Please try again."
        ErrorLabel.TextColor3 = Color3.fromRGB(255, 0, 0) -- Red for Wrong Key
    end
end)

CopyButton.MouseButton1Click:Connect(function()
    setclipboard(key_link) -- Copies the Discord link to clipboard
    ErrorLabel.Text = "Key link copied!"
    ErrorLabel.TextColor3 = Color3.fromRGB(0, 0, 0) -- Black for copied message
end)
